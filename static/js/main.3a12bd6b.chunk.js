(this["webpackJsonpground-up"]=this["webpackJsonpground-up"]||[]).push([[0],{259:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},335:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},445:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},490:function(e,t,n){},491:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},534:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"loginUser",(function(){return R}));var r={};n.r(r),n.d(r,"fetchUsers",(function(){return U})),n.d(r,"createNewUser",(function(){return L})),n.d(r,"removeUser",(function(){return I})),n.d(r,"updateUser",(function(){return P}));var i={};n.r(i),n.d(i,"fetchRoles",(function(){return G}));var c={};n.r(c),n.d(c,"fetchCompany",(function(){return z})),n.d(c,"createCompany",(function(){return Y})),n.d(c,"deleteCompany",(function(){return W}));var o={};n.r(o),n.d(o,"getBookings",(function(){return Z}));var s,l=n(1),d=n.n(l),u=n(58),j=n.n(u),b=(n(311),n(312),n(21)),m=n(634),h=n(594),O=n(623),f=n(137),x=n(274),p=n.n(x),g=n(587),v=n(23),E=n(30),S=n(49),C=n(31),y=n.n(C);!function(e){e.LOGGED_IN_USER="LOGGED_IN_USER",e.LOGGED_IN_USER_FAILED="LOGGED_IN_USER_FAILED"}(s||(s={}));var k,_,w,N,D=n(40),T=n.n(D),A="/signin",R=function(e,t){return function(){var n=Object(S.a)(y.a.mark((function n(a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.post(A,{email:e,password:t}).then((function(t){var n;localStorage.setItem("token",t.data.token),a((n=e,{type:s.LOGGED_IN_USER,payload:n}))})).catch((function(t){var n;a((n=e,{type:s.LOGGED_IN_USER_FAILED,payload:n}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};!function(e){e.GET_USERS="GET_USERS",e.GET_USERS_FAILED="GET_USERS_FAILED",e.GET_USERS_SUCCESS="GET_USERS_SUCCESS"}(k||(k={})),function(e){e.CREATE_USER="CREATE_USER",e.CREATE_USER_FAILED="CREATE_USER_FAILED",e.CREATE_USER_SUCCESS="CREATE_USER_SUCCESS"}(_||(_={})),function(e){e.DELETE_USER="DELETE_USER",e.DELETE_USER_FAILED="DELETE_USER_FAILED",e.DELETE_USER_SUCCESS="DELETE_USER_SUCCESS"}(w||(w={})),function(e){e.EDIT_USER="EDIT_USER",e.EDIT_USER_FAILED="EDIT_USER_FAILED",e.EDIT_USER_SUCCESS="EDIT_USER_SUCCESS"}(N||(N={}));var M,U=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:k.GET_USERS}),e.next=3,T.a.post("/users",{}).then((function(e){var n;t((n=e.data.data,{type:k.GET_USERS_SUCCESS,payload:n}))})).catch((function(e){var n;t((n=e.message,{type:k.GET_USERS_FAILED,payload:n}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e,t,n,a,r){return function(){var i=Object(S.a)(y.a.mark((function i(c){return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c({type:_.CREATE_USER}),i.next=3,T.a.post("/user/create",{email:e,name:n,password:t,company:r,role:a}).then((function(e){c({type:_.CREATE_USER_SUCCESS})})).catch((function(e){var t;c((t=e,{type:_.CREATE_USER_FAILED,payload:t}))}));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n((a=e,{type:w.DELETE_USER,payload:a})),t.next=3,T.a.delete("/user/delete/"+e,{}).then((function(e){n({type:w.DELETE_USER_SUCCESS})})).catch((function(e){var t;n((t=e,{type:w.DELETE_USER_FAILED,payload:t}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e,t,n){return function(){var a=Object(S.a)(y.a.mark((function a(r){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.EDIT_USER}),a.next=3,T.a.put("/user/update/"+e,{email:t,name:n}).then((function(e){r({type:N.EDIT_USER_SUCCESS})})).catch((function(e){var t;r((t=e,{type:N.EDIT_USER_FAILED,payload:t}))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};!function(e){e.GET_ROLES="GET_ROLES",e.GET_ROLES_FAILED="GET_ROLES_FAILED",e.GET_ROLES_SUCCESS="GET_ROLES_SUCCESS"}(M||(M={}));var F,G=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:M.GET_ROLES}),e.next=3,T.a.get("/role",{}).then((function(e){var n;t((n=e.data.data.role,{type:M.GET_ROLES_SUCCESS,payload:n}))})).catch((function(e){var n;t((n=e.message,{type:M.GET_ROLES_FAILED,payload:n}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.GET_COMPANY="GET_COMPANY",e.GET_COMPANY_FAILED="GET_COMPANY_FAILED",e.GET_COMPANY_SUCCESS="GET_COMPANY_SUCCESS",e.CREATE_COMPANY="CREATE_COMPANY",e.CREATE_COMPANY_FAILED="CREATE_COMPANY_FAILED",e.CREATE_COMPANY_SUCCESS="CREATE_COMPANY_SUCCESS",e.DELETE_COMPANY="DELETE_COMPANY",e.DELETE_COMPANY_FAILED="DELETE_COMPANY_FAILED",e.DELETE_COMPANY_SUCCESS="DELETE_COMPANY_SUCCESS"}(F||(F={}));var B,q=function(){return{type:F.CREATE_COMPANY}},z=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:F.GET_COMPANY}),e.next=3,T.a.post("/companies",{}).then((function(e){var n;t((n=e.data.data,{type:F.GET_COMPANY_SUCCESS,payload:n}))})).catch((function(e){var n;t((n=e.message,{type:F.GET_COMPANY_FAILED,payload:n}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(e,t,n){return function(){var a=Object(S.a)(y.a.mark((function a(r){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(q()),a.next=3,T.a.post("/company/create",{name:e,address:t,number:n}).then((function(e){r({type:F.CREATE_COMPANY_SUCCESS})})).catch((function(e){var t;r((t=e.message,{type:F.CREATE_COMPANY_FAILED,payload:t}))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q()),t.next=3,T.a.delete("/company/delete/"+e,{}).then((function(e){n({type:F.DELETE_COMPANY_SUCCESS})})).catch((function(e){var t;n((t=e.message,{type:F.DELETE_COMPANY_FAILED,payload:t}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){e.ALL_BOOKINGS="ALL_BOOKINGS",e.BOOKINGS_FAILED="BOOKINGS_FAILED"}(B||(B={}));var H=function(e){return{type:B.ALL_BOOKINGS,payload:e}},Z=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/bookings",{skip:0}).then((function(e){var n=(e||{}).data,a=(n=void 0===n?{}:n).data;t(H(void 0===a?[]:a))})).catch((function(e){var n;t((n=e.message,{type:B.BOOKINGS_FAILED,payload:n}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=(n(335),n(34)),K=n(20),J=K.c().shape({email:K.e().email("Enter a valid email").required("Email is required"),password:K.e().min(8,"Password should be of minimum 8 characters length").required("Password is required")}),Q=n(610),X=n(622),$=n(0);function ee(e){var t=Object(V.a)({initialValues:{email:"",password:""},validationSchema:J,onSubmit:e.handleSubmit});return Object($.jsxs)(g.a,{component:"form",onSubmit:t.handleSubmit,children:[Object($.jsx)(Q.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email}),Object($.jsx)(Q.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password}),Object($.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})}function te(){var e=Object(v.b)(),t=Object(b.f)(),n=Object(E.b)(a,e).loginUser,r=Object(v.c)((function(e){return e.login})).status;Object(l.useEffect)((function(){"success"==r&&t.push("/home")}),[r]);return Object($.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object($.jsx)(h.a,{}),Object($.jsxs)(g.a,{className:"main-container",children:[Object($.jsx)(O.a,{sx:{m:3,bgcolor:"primary.main"},children:Object($.jsx)(p.a,{})}),Object($.jsx)(f.a,{component:"h1",variant:"h3",children:"Sign in"}),Object($.jsx)(ee,{handleSubmit:function(e){var t=e.email,a=e.password;t&&a&&n(t,a)}}),"failed"==r&&Object($.jsx)(f.a,{variant:"error",children:" Failed to login. Please check Username and Password"})]})]})}function ne(){return Object($.jsx)(te,{})}var ae=n(12),re=n(5),ie=n(599),ce=n(618),oe=(n(259),n(626)),se=n(613),le=n(595),de=n(609),ue=function(e){var t=Object(b.f)(),n=Object(l.useState)(""),a=Object(ae.a)(n,2),r=a[0],i=a[1];return Object(l.useEffect)((function(){return t.listen((function(e){i(e.pathname)}))}),[t]),Object(l.useEffect)((function(){i(t.location.pathname)}),[]),Object($.jsx)(se.a,{button:!0,selected:r.indexOf(e.id)>-1,onClick:function(){return t.push(e.id)},children:Object($.jsx)(le.a,{className:"menu-item-text",children:Object($.jsxs)(f.a,{variant:"body1",children:[e.text,e.notifications&&Object($.jsx)(de.a,{badgeContent:e.notifications,color:"primary",style:{left:"2rem"}})]})})},e.text)},je=n(596),be=n(597),me=n(635),he=n(633),Oe=n(598),fe=n(6),xe=function(e){var t=Object(b.f)(),n=Object(l.useState)(!0),a=Object(ae.a)(n,2),r=a[0],i=a[1],c=Object(l.useState)(""),o=Object(ae.a)(c,2),s=o[0],d=o[1],u=Object(l.useState)(""),j=Object(ae.a)(u,2),m=j[0],h=j[1];return Object(l.useEffect)((function(){return t.listen((function(e){d(e.pathname),h(e.pathname)}))}),[t]),Object(l.useEffect)((function(){var e=t.location;m||(d(e.pathname),h(e.pathname))}),[]),Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(se.a,{button:!0,selected:m.indexOf(e.id)>-1,onClick:function(){return i(!r)},children:[Object($.jsx)(le.a,{style:{marginLeft:"2rem"},children:Object($.jsx)("span",{children:e.text})}),r?Object($.jsx)(je.a,{}):Object($.jsx)(be.a,{})]},e.text),Object($.jsx)(me.a,{in:r,timeout:"auto",unmountOnExit:!0,children:(e.subMenu||[]).map((function(e){return Object($.jsx)(he.a,{component:"li",disablePadding:!0,children:Object($.jsxs)(se.a,{button:!0,onClick:function(){return function(e){t.push(e.id)}(e)},sx:{padding:0},children:[Object($.jsx)(Oe.a,{}),Object($.jsx)(le.a,{className:Object(fe.a)("submenu-item",Object(re.a)({},"active",s==e.id)),sx:{margin:0},children:Object($.jsx)(f.a,{variant:"body1",children:e.text})},e.id)]},e.text)},e.text)}))},e.text+"-collapsable")]})},pe=function(e){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(oe.a,{}),Object($.jsx)(ie.a,{sx:{overflow:"auto"},children:Object($.jsx)(he.a,{children:(e.items||[]).map((function(e,t){return e.subMenu?Object($.jsx)(xe,{text:e.text,id:e.id,subMenu:e.subMenu}):Object($.jsx)(ue,{text:e.text,id:e.id,notifications:e.notifications})}))})})]})},ge=300;function ve(e){return Object($.jsxs)(ie.a,{sx:{display:"flex"},children:[Object($.jsx)(ce.a,{variant:"temporary",open:e.mobileOpen,onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0},sx:Object(re.a)({display:{xs:"block",sm:"none"},width:ge,flexShrink:0},"& .MuiDrawer-paper",{width:ge,boxSizing:"border-box"}),children:Object($.jsx)(pe,{items:e.items})}),Object($.jsx)(ce.a,{className:"drawer-panel",variant:"permanent",sx:Object(re.a)({display:{xs:"none",sm:"block"},width:ge},"& .MuiDrawer-paper",{width:ge}),children:Object($.jsx)(pe,{items:e.items})}),Object($.jsx)(ie.a,{component:"main",className:"main-component",sx:{width:{sm:"calc(100% - ".concat(ge,"px)")},marginTop:{xs:"50px",md:"64px"}},children:Object($.jsx)(ie.a,{sx:{flex:"1 1 auto"},children:e.children})})]})}var Ee=n(629),Se=n(628),Ce=n(627),ye=n(287),ke=n(281),_e=n.n(ke),we=n(280),Ne=n.n(we),De=n(218),Te=n.n(De),Ae=n(217),Re=n.n(Ae),Me=n(282),Ue=n.n(Me),Le=n(17),Ie=n(606),Pe=n(636),Fe=n(276),Ge=n.n(Fe),Be=n(277),qe=n.n(Be),ze=n(278),Ye=n.n(ze),We="/home",He="/user",Ze="/booking",Ve=We+Ze,Ke="/home/booking/review",Je="/home/chart",Qe="/user/admin",Xe="/user/notification",$e="/user/admin/user-management",et="/user/admin/role-management",tt="/user/admin/material-management",nt="/user/admin/activity-management",at="/user/admin/maintenance-management",rt="/user/admin/crane-booking-management",it="/user/admin/reports-management",ct="/user/admin/company-management";function ot(e){var t=[{text:"Booking",id:Ve,icon:Object($.jsx)(Ge.a,{})},{text:"Maintenance",id:"/home/maintenance",icon:Object($.jsx)(qe.a,{})},{text:"Report",id:"/home/report",icon:Object($.jsx)(Ye.a,{})}],n=Object(b.f)(),a=function(a,r){e.setIndex(r),n.push(t[r].id)};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Ie.a,{value:e.index,onChange:a,"aria-label":"GroundUp Tabs",sx:{display:{xs:"none",sm:"block"}},children:(t||[]).map((function(e,t){return Object($.jsx)(Pe.a,Object(Le.a)({label:e.text},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)),e.id)}))}),Object($.jsx)(Ie.a,{value:e.index,onChange:a,"aria-label":"GroundUp Tabs",sx:{display:{xs:"block",sm:"none"}},children:(t||[]).map((function(e,t){return Object($.jsx)(Pe.a,{icon:e.icon,"aria-label":e.text},e.id)}))})]})}n(440);var st=n(161),lt=n.n(st);var dt=function(e){var t=e.category,n=e.time,a=e.message,r=e.index,i=e.removeNotification,c=e.notifications;return Object($.jsx)(d.a.Fragment,{children:Object($.jsxs)(g.a,{className:"notification-item",children:[Object($.jsxs)("div",{className:"notification-drawer-category",children:[Object($.jsx)(f.a,{className:"notification-drawer-category heading",variant:"caption",children:t}),Object($.jsx)("div",{className:"notification-close-icon",children:Object($.jsx)(lt.a,{onClick:function(){i(c.filter((function(e,t){return t!==r})))},fontSize:"small"})})]}),Object($.jsx)(f.a,{className:"heading",variant:"subtitle2",children:a}),Object($.jsx)(f.a,{className:"heading",variant:"caption",component:"h2",children:n})]})})},ut=(n(441),function(e){var t=e.notifications,n=e.removeNotification;return Object($.jsx)(ie.a,{role:"presentation",children:Object($.jsx)(he.a,{style:{width:"21.25rem"},children:0!=t.length?t.map((function(e,a){return Object($.jsx)(dt,{removeNotification:n,notifications:t,index:a,category:e,message:"Idling detected at Crane A, Zone A",time:"1 Hr ago"},a)})):Object($.jsxs)(ie.a,{className:"no-notification-box",children:[Object($.jsx)(f.a,{m:5,className:"heading",variant:"h5",component:"h2",children:"No notifications"}),Object($.jsx)("img",{className:"notification-no-img",alt:"no-notification",src:"/assets/svg/notebook.svg"})]})})})});function jt(e){var t=Object(l.useState)(["Alert","Bookings","Alert","Bookings"]),n=Object(ae.a)(t,2),a=n[0],r=n[1];return Object($.jsx)(d.a.Fragment,{children:Object($.jsxs)(ce.a,{anchor:"right",open:e.openNotificationDrawer,onClose:function(){e.setopenNotificationDrawer(!e.openNotificationDrawer)},children:[Object($.jsx)(oe.a,{}),Object($.jsx)(ut,{notifications:a,removeNotification:r})]})})}function bt(e){var t=l.useState(null),n=Object(ae.a)(t,2),a=n[0],r=n[1],i=l.useState(null),c=Object(ae.a)(i,2),o=c[0],s=c[1],d=Boolean(a),u=Boolean(o),j=l.useState(!1),m=Object(ae.a)(j,2),h=m[0],O=m[1],x=Object(b.f)(),p=Object(v.c)((function(e){return e.login})).username,g=function(e){r(e.currentTarget)},E=function(){s(null)},S=function(){r(null),E()},C=Object($.jsxs)(ye.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:S,children:[Object($.jsx)(jt,{openNotificationDrawer:h,setopenNotificationDrawer:O}),Object($.jsx)(Ce.a,{onClick:S,children:"Logout"})]}),y="primary-search-account-menu-mobile",k=Object($.jsxs)(ye.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:E,children:[Object($.jsxs)(Ce.a,{children:[Object($.jsx)(Se.a,{size:"large","aria-label":"show notifications",color:"inherit",onClick:function(){return x.push(Xe)},children:Object($.jsx)(Re.a,{})}),Object($.jsx)("p",{children:"Settings"})]}),Object($.jsxs)(Ce.a,{children:[Object($.jsx)(Se.a,{size:"large","aria-label":"show new notifications",color:"inherit",children:Object($.jsx)(de.a,{badgeContent:4,color:"primary",children:Object($.jsx)(Te.a,{})})}),Object($.jsx)("p",{children:"Notifications"})]}),Object($.jsxs)(Ce.a,{onClick:g,children:[Object($.jsx)(Se.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object($.jsx)(Ne.a,{})}),Object($.jsxs)(f.a,{style:{textTransform:"capitalize"},children:["Welcome ",p,"!"]})]})]});return Object($.jsxs)(ie.a,{sx:{flexGrow:1},children:[Object($.jsx)(Ee.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object($.jsxs)(oe.a,{children:[Object($.jsx)(Se.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle,sx:{display:{xs:"block",sm:"none"},mr:2},children:Object($.jsx)(_e.a,{})}),Object($.jsx)(ie.a,{component:"img",sx:{height:233,width:350,marginRight:5,maxHeight:{xs:22,md:22},maxWidth:{xs:150,md:150}},alt:"GROUNDUP.AI",src:"/assets/images/logoE6.png"}),Object($.jsx)(ot,{index:e.headerTab,setIndex:e.setHeaderTab}),Object($.jsx)(ie.a,{sx:{flexGrow:1}}),Object($.jsxs)(ie.a,{sx:{display:{xs:"none",md:"flex"},alignItems:"center"},children:[Object($.jsx)(Se.a,{size:"large","aria-label":"show Settings",color:"inherit",onClick:function(){return x.push($e)},children:Object($.jsx)(Re.a,{})}),Object($.jsx)(Se.a,{size:"large","aria-label":"show notifications",color:"inherit",onClick:function(){O(!h)},children:Object($.jsx)(de.a,{badgeContent:17,color:"primary",children:Object($.jsx)(Te.a,{})})}),Object($.jsx)("div",{style:{height:"28px",border:"1px solid rgba(0, 0, 0, 0.5)",margin:"0 .5rem 0 .7rem"}}),Object($.jsxs)(f.a,{onClick:g,style:{textTransform:"capitalize"},children:["Welcome ",p,"!"]})]}),Object($.jsx)(ie.a,{sx:{display:{xs:"flex",md:"none"}},children:Object($.jsx)(Se.a,{size:"large","aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object($.jsx)(Ue.a,{})})})]})}),k,C]})}var mt=n(174),ht=n.n(mt),Ot=(n(442),n(33)),ft=n(632),xt=n(637),pt=n(638),gt=n(639),vt=n(640),Et=n(641),St=n(642),Ct=n(614),yt=n(600),kt=n(601),_t=n(272);n(443);function wt(e){var t=d.a.useState(0),n=Object(ae.a)(t,2),a=n[0],r=n[1],i=d.a.useState(10),c=Object(ae.a)(i,2),o=c[0],s=c[1],l=e.rows,u=void 0===l?[]:l,j=e.columns,b=void 0===j?[]:j,m=Object(Ot.a)();return Object($.jsxs)(ft.a,{sx:{border:"1px solid ".concat(m.palette.secondary.main)},className:"table-paper",children:[Object($.jsx)(xt.a,{sx:{maxHeight:440},children:Object($.jsxs)(pt.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",sx:{padding:"1rem",paddingTop:"0.5rem"},children:[Object($.jsx)(gt.a,{children:Object($.jsx)(vt.a,{children:b.map((function(e){return Object($.jsx)(Et.a,{align:e.align,style:{minWidth:e.minWidth||100},sx:{borderBottom:"2.5px solid ".concat(_t.a[300])},children:Object($.jsx)(f.a,{variant:"subtitle2",children:e.label})},e.id)}))})}),Object($.jsx)(St.a,{children:u.slice(a*o,a*o+o).map((function(t){return Object($.jsx)(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,onClick:function(){return e.rowClicked&&e.rowClicked(t)},children:b.map((function(n){var a=t[n.id];return Object($.jsx)(Et.a,{align:n.align,children:n.format&&"number"===typeof a?n.format(a):"image"===n.id?Object($.jsx)("img",{src:a,style:{height:"3rem",width:"3.5rem"}}):"action"===n.id?Object($.jsxs)(ie.a,{children:[" ",Object($.jsx)(yt.a,{sx:{color:"gray"},onClick:function(){return e.editlicked&&e.editlicked(t)}}),Object($.jsx)(kt.a,{sx:{color:"red"},onClick:function(){return e.deleteClicked&&e.deleteClicked(t._id)}}),"  "]}):Object($.jsxs)(f.a,{variant:"subtitle2",children:[" ",a," "]})},n.id)}))},t.code)}))})]})}),u.length>=10&&Object($.jsx)(Ct.a,{rowsPerPageOptions:[10,25,100],component:"div",count:u.length,rowsPerPage:o,page:a,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){s(+e.target.value),r(0)}})]})}var Nt=n(219),Dt=n.n(Nt),Tt=n(617),At=n(220),Rt=n.n(At),Mt=n(221),Ut=n.n(Mt),Lt=n(285),It=n.n(Lt);n(444),n(445);function Pt(e){var t=e.formik,n=e.id,a=e.label,r=e.dateDelete,i=e.timeonly,c=t.setFieldValue,o={};i&&(o.showTimeSelect=!0,o.showTimeSelectOnly=!0,o.timeIntervals=5,o.timeCaption="Time",o.dateFormat="h:mm aa");var s=Object(l.useRef)(null),d=function(){var e=s.current;null===e||void 0===e||e.setFocus()};return Object($.jsxs)(ie.a,{className:"g-date-picker",children:[Object($.jsx)(Tt.a,{id:n,children:a}),Object($.jsxs)(ie.a,{sx:{position:"relative"},children:[Object($.jsx)(Dt.a,Object(Le.a)(Object(Le.a)({},o),{},{selected:t.values[n],ref:s,onChange:function(e){c(n,e,!0)}})),i&&(!t.values[n]||!(t.values[n]&&r))&&Object($.jsx)(It.a,{className:"form-date-icon",onClick:function(){return d()}}),!i&&(!t.values[n]||!(t.values[n]&&r))&&Object($.jsx)(Rt.a,{className:"form-date-icon",onClick:function(){return d()}}),t.values[n]&&r&&Object($.jsx)(Ut.a,{className:"form-date-icon",onClick:function(){return c(n,null,!0)}})]}),t.errors[n]&&Object($.jsx)(f.a,{variant:"error",component:"div",children:t.errors[n]})]})}function Ft(e){var t=e.label,n=e.date,a=e.dateDelete,r=void 0!==a&&a,i=e.onChange,c=Object(l.useRef)(null);return Object($.jsxs)(ie.a,{className:"g-date-picker",children:[Object($.jsx)(Tt.a,{children:t}),Object($.jsx)(ie.a,{sx:{position:"relative"},children:Object($.jsx)(Dt.a,{selected:n,onChange:i,ref:c,placeholderText:"Select Date"})}),(!n||!(n&&r))&&Object($.jsx)(Rt.a,{className:"date-icon",onClick:function(){return function(){var e=c.current;null===e||void 0===e||e.setFocus()}()}}),n&&r&&Object($.jsx)(Ut.a,{className:"date-icon",onClick:function(){i(null)}})]})}n(487);function Gt(e){var t=e.formik,n=e.id,a=e.label,r=e.options,i=t.setFieldValue;return Object($.jsxs)("div",{className:"custom-select",children:[Object($.jsx)(Tt.a,{id:"custom-input-label",children:a}),Object($.jsxs)(Q.a,{select:!0,value:t.values[n],onChange:function(e){i(n,e.target.value,!0)},error:t.touched[n]&&Boolean(t.errors[n]),inputProps:{"aria-label":"Without label"},children:[Object($.jsx)(Ce.a,{value:"",children:Object($.jsx)("em",{children:"None"})},""),(r||[]).map((function(e){return Object($.jsx)(Ce.a,{value:e.key,children:e.value},e.key)}))]}),t.touched[n]&&t.errors[n]&&Object($.jsx)(f.a,{variant:"error",component:"div",children:t.errors[n]})]})}function Bt(e){e.id;var t=e.placeholder,n=e.label,a=e.value,r=e.options,i=e.onChange;return Object($.jsxs)("div",{className:"custom-select",children:[n&&Object($.jsx)(Tt.a,{id:"custom-input-label",children:n}),!a&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("button",{className:"btn btn-secondary dropdown-toggle dropdown-button",type:"button",id:"Select ".concat(n||""),"data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),Object($.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(r||[]).map((function(e){return Object($.jsx)("li",{children:Object($.jsx)("a",{className:"dropdown-item",href:"#",onClick:function(t){return i(e.key)},children:e.value})})}))})]}),a&&Object($.jsxs)(Q.a,{select:!0,value:a,onChange:function(e){return i(e.target.value)},id:"Select ".concat(n||""),name:"Select ".concat(n||""),inputProps:{"aria-label":"Select"},SelectProps:{MenuProps:{classes:{list:"dropdown-menu show"}}},children:[Object($.jsx)(Ce.a,{value:"",children:Object($.jsx)("em",{children:t})},""),(r||[]).map((function(e){return Object($.jsx)(Ce.a,{value:e.key,children:e.value},e.key)}))]})]})}function qt(){var e=Object(l.useState)(""),t=Object(ae.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(""),i=Object(ae.a)(r,2),c=i[0],o=i[1],s=Object(l.useState)(null),d=Object(ae.a)(s,2),u=d[0],j=d[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(g.a,{className:"dropdown",mr:1,children:Object($.jsx)(Ft,{date:u,onChange:j,dateDelete:!0})}),Object($.jsx)(g.a,{className:"dropdown",mr:1,children:Object($.jsx)(Bt,{id:"crane",placeholder:"Select Crane",options:[{key:"crane1",value:"Crane1"},{key:"crane2",value:"Crane2"},{key:"crane3",value:"Crane3"}],onChange:function(e){a(e)},value:n})}),Object($.jsx)(g.a,{className:"dropdown",mr:1,children:Object($.jsx)(Bt,{id:"zone",placeholder:"Select Zone",options:[{key:"zone1",value:"Zone1"},{key:"zone2",value:"Zone2"},{key:"zone3",value:"Zone3"}],onChange:function(e){o(e)},value:c})})]})}var zt=n(624),Yt=n(643);n(488);function Wt(e){var t=e.options,n=e.formats,a=e.singleSelect,r=void 0!==a&&a,i=e.setFormats;return Object($.jsx)(zt.a,{value:n,onChange:function(e,t){i(r?[e.target.value]:t)},"aria-label":"custom-toggle-button-group",className:"group-filter",children:(t||[]).map((function(e){return Object($.jsx)(Yt.a,{value:e.value,"aria-label":e.value,children:e.label})}))})}n(489);function Ht(){var e=d.a.useState((function(){return[]})),t=Object(ae.a)(e,2),n=t[0],a=t[1];return Object($.jsx)($.Fragment,{children:Object($.jsx)(Wt,{formats:n,setFormats:a,options:[{value:"all",label:"All"},{value:"pending",label:"Pending"},{value:"scheduling",label:"Scheduling"},{value:"inprogress",label:"In Progress"},{value:"rejected",label:"Rejected"},{value:"rescheduled",label:"Rescheduled"}]})})}function Zt(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(g.a,{sx:{display:"flex"},mb:1,children:Object($.jsx)(qt,{})}),Object($.jsx)(g.a,{sx:{display:"flex"},children:Object($.jsx)(Ht,{})})]})}var Vt=n(625),Kt=K.c().shape({contractor:K.e().required("Contractor name is required"),zone:K.e().required("Zone is required")}),Jt=(n(490),n(644)),Qt=n(602),Xt=n(645),$t=n(646),en=n(647);n(491);function tn(e){var t=d.a.useState("paper"),n=Object(ae.a)(t,2),a=n[0],r=(n[1],e.open),i=e.showDialog,c=e.size,o=void 0===c?"small":c;return Object($.jsxs)(Jt.a,{disablePortal:!0,open:r,onClose:i,scroll:a,fullWidth:!0,maxWidth:"".concat("medium"===o?"sm":"large"===o?"md":"xs"),className:"dialog-container","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object($.jsxs)(Qt.a,{id:"scroll-dialog-title",className:"dialog-title",children:[Object($.jsx)(f.a,{variant:"h6",component:"span",children:e.title}),Object($.jsx)(Se.a,{onClick:function(){return i(!1)},children:Object($.jsx)(lt.a,{})})]}),Object($.jsx)(Xt.a,{dividers:"paper"===a,children:Object($.jsx)($t.a,{component:"span",id:"scroll-dialog-description",tabIndex:-1,children:e.children})}),Object($.jsx)(en.a,{sx:{display:"flex",justifyContent:"left"},children:Object($.jsx)(X.a,{variant:"contained",type:"submit",form:"request-new-form",children:"Submit"})})]})}var nn=n(630);n(492);function an(e){var t=e.formik,n=e.id,a=e.label,r=e.required;return Object($.jsxs)("div",{className:"custom-input",children:[Object($.jsx)(Tt.a,{id:n,children:a}),Object($.jsx)(nn.a,{required:r,fullWidth:!0,id:n,"aria-label":n,name:n,autoComplete:"off",autoFocus:!0,value:t.values[n],onBlur:function(){return t.validateField(n)},onChange:t.handleChange,error:t.touched[n]&&Boolean(t.errors[n])}),t.touched[n]&&t.errors[n]&&Object($.jsx)(f.a,{variant:"error",component:"span",children:t.errors[n]})]})}function rn(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,r=Object(V.a)({initialValues:{contractor:"",zone:""},validationSchema:Kt,validateOnChange:!1,onSubmit:function(e){a(e)}});return Object($.jsx)(tn,{title:"Request Booking",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:r.handleSubmit,children:[Object($.jsx)(an,{formik:r,id:"contractor",label:"Contractor"}),Object($.jsx)(Gt,{formik:r,id:"zone",label:"Zone",options:[{key:"zone1",value:"Zone1"},{key:"zone2",value:"Zone2"},{key:"zone3",value:"Zone3"}]}),Object($.jsxs)(Vt.a,{xs:12,container:!0,children:[Object($.jsx)(Vt.a,{xs:4,children:Object($.jsx)(Pt,{formik:r,id:"startTime",label:"Time Start",timeonly:!0})}),Object($.jsx)(Vt.a,{xs:4,children:Object($.jsx)(Pt,{formik:r,id:"endTime",label:"End Start",timeonly:!0})})]})]})})}function cn(e){var t=e.title,n=void 0===t?"":t,a=e.variant,r=void 0===a?"contained":a,i=e.size,c=void 0===i?"medium":i,o=e.color,s=void 0===o?"primary":o,l=e.style,d=void 0===l?{}:l,u=e.sx,j=void 0===u?{}:u,b=e.className,m=void 0===b?"":b,h=e.onClick,O=void 0===h?function(){return{}}:h,f=e.startIcon,x=e.endIcon,p=e.type;return Object($.jsx)(X.a,{type:p,variant:r,size:c,style:d,color:s,sx:j,className:m,onClick:O,startIcon:f,endIcon:x,children:n})}function on(e){var t=+e.substr(0,2),n=t<12||24===t?" AM":" PM";return(t%12||12)+e.substr(2,3)+n}var sn=[{id:"date",label:"Date",minWidth:120},{id:"timeStart",label:"Time Start",align:"left"},{id:"timeEnd",label:"Time End",align:"left"},{id:"zone",label:"Zone",align:"left"},{id:"crane",label:"Crane",align:"left"},{id:"taskType",label:"Task Type",align:"left"},{id:"status",label:"Status",align:"left"}];function ln(){var e=Object(l.useState)(null),t=Object(ae.a)(e,2),n=(t[0],t[1]),a=Object(l.useState)(!1),r=Object(ae.a)(a,2),i=r[0],c=r[1],s=Object(b.f)(),u=Object(b.g)().search,j=Object(v.b)(),m=Object(E.b)(o,j).getBookings,h=Object(v.c)((function(e){return e.bookings})),O=h.data,x=(h.loading,h.error,Object(l.useState)([])),p=Object(ae.a)(x,2),S=p[0],C=p[1],y=[];function k(e,t,n,a,r,i){return{date:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.substring(5,7))-1];return e.substring(0,5)+t.toString()+e.substring(7,10)}(e.substring(0,10).split("-").join(" ")),timeStart:on(e.substring(11,16)),timeEnd:on(t.substring(11,16)),zone:n,crane:a,taskType:r,status:Object($.jsx)(cn,{title:"Pending",size:"small",color:"secondary",sx:{width:"100%",backgroundColor:"secondary.dark",textTransform:"capitalize"}})}}d.a.useEffect((function(){m()}),[]),d.a.useEffect((function(){(O||[]).map((function(e,t){var n=k(e.start_time,e.end_time,e.zone,e.crane_id.name,e.tasktype,e.status);y.push(n)})),C(y)}),[O]);return d.a.useEffect((function(){var e=new URLSearchParams(u);e&&"chart"===e.get("from")&&c(!0)}),[]),Object($.jsxs)(g.a,{className:"page-container",children:[Object($.jsxs)(g.a,{sx:{display:"flex"},mb:1,children:[Object($.jsx)(f.a,{variant:"h5",component:"h2",className:"heading-text",children:"Crane Bookings"}),Object($.jsx)(cn,{title:"Request New",startIcon:Object($.jsx)(ht.a,{}),onClick:function(){return c(!0)}})]}),Object($.jsx)(Zt,{}),Object($.jsx)(g.a,{children:Object($.jsxs)(g.a,{children:[Object($.jsx)(wt,{rowClicked:function(e){return function(e){n(e),s.push(Ke)}(e)},rows:S,columns:sn}),Object($.jsx)(rn,{open:i,showDialog:function(e){c(e)},handleSubmit:function(){c(!1)}})]})})]})}var dn=n(648);n(493);function un(e){var t=e.label,n=e.children;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(g.a,{className:"header",children:t&&Object($.jsx)(f.a,{variant:"paneheader",children:t})}),Object($.jsx)(g.a,{className:"content",children:n})]})}n(494);var jn=[{label:"Date",value:"22 Jun 2021"},{label:"Time Start",value:"11:00 PM"},{label:"Time End",value:"13:00 PM"},{label:"Zone",value:"Location A"},{label:"Crane",value:"Crane 2"},{label:"Task Type",value:"Carrying Loads"}];function bn(e){var t=e.className,n=void 0===t?{}:t,a=e.id,r=void 0===a?"":a,i=e.options,c=void 0===i?[]:i,o=e.title,s=void 0===o?"":o,l=e.btnStyle,d=void 0===l?{}:l,u=n.buttonClassName,j=void 0===u?"":u,b=n.listClassName,m=void 0===b?"":b,h=n.optionClassName,O=void 0===h?"":h;return Object($.jsxs)(ie.a,{className:"dropdown",mr:1,children:[Object($.jsx)("button",{className:Object(fe.a)("btn dropdown-toggle dropdown-button",j),style:d,type:"button",id:r,"data-bs-toggle":"dropdown","aria-expanded":"false",children:s}),Object($.jsx)("ul",{className:Object(fe.a)("dropdown-menu",m),children:c&&c.map((function(e){var t=e.label,n=e.href;return Object($.jsx)("li",{children:Object($.jsx)("a",{className:Object(fe.a)("dropdown-item",O),href:n,children:t})})}))})]})}function mn(e){var t=e.ButtonTitle,n=void 0===t?"Approve":t,a=e.ButtonGroupTitle,r=void 0===a?"More":a,i=Object(Ot.a)().palette;return Object($.jsxs)(ie.a,{className:"status-header-container",sx:{backgroundColor:"secondary.main"},children:[Object($.jsx)(ie.a,{className:"status-header-wrapper",children:jn&&jn.map((function(e){var t=e.label,n=e.value;return Object($.jsxs)(ie.a,{className:"status-item-container",children:[Object($.jsx)(f.a,{variant:"subtitle2",className:"status-item-label",children:t}),Object($.jsx)(f.a,{variant:"subtitle2",children:n})]})}))}),Object($.jsxs)(ie.a,{className:"status-button-container",children:[Object($.jsx)(cn,{title:n,className:"status-approve-btn",size:"small",color:"success"}),Object($.jsx)(bn,{title:r,options:[{label:"Reshcedule Booking",href:"#"},{label:"Reject Booking",href:"#"},{label:"Delete Booking",href:"#"}],className:{buttonClassName:"gButtonGroup"},btnStyle:{backgroundColor:i.primary.main,color:"white"}})]})]})}function hn(){var e=Object(b.f)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ie.a,{sx:{display:"flex"},mb:2,children:Object($.jsx)(dn.a,{component:"button",variant:"body2",underline:"none",onClick:function(){e.push(Ve)},children:Object($.jsx)(f.a,{variant:"subtitle2",children:"< Back"})})}),Object($.jsx)(mn,{}),Object($.jsx)("br",{}),Object($.jsx)(ie.a,{children:Object($.jsx)(un,{label:"Booking Details",children:Object($.jsx)(cn,{title:"Add Activity",size:"small",style:{display:"block",margin:"10px 0"}})})})]})}n(495);function On(e){var t=e.date,n=e.setDate,a=e.crane,r=e.setCrane,i=function(e){for(var t,n={},a=[],r=0;t=e[r++];){var i=t.crane_id.name;i in n||(n[i]=1,a.push({key:i,value:i}))}return a},c=Object(v.c)((function(e){var t=(e||{}).bookings,n=(t=void 0===t?{}:t).data,a=void 0===n?[]:n;return{bookings:a,cranes:i(a.filter((function(e){return e.crane_id})))}}));return Object($.jsx)($.Fragment,{children:Object($.jsxs)(g.a,{sx:{display:"flex"},mb:1,children:[Object($.jsx)(g.a,{className:"dropdown",mr:1,children:Object($.jsx)(Ft,{date:t,onChange:n,dateDelete:!0})}),Object($.jsx)(g.a,{className:"dropdown",mr:1,children:Object($.jsx)(Bt,{id:"Crane",placeholder:"Select Crane",options:c.cranes,onChange:r,value:a})})]})})}n(496);var fn=n(649),xn=function(e){var t=e.rowData,n=t.id,a=t.craneColor,r=t.crane,i=t.location,c=(t.liftType,t.width),o=t.color,s=t.left;return n?Object($.jsxs)("div",{className:"single-row",children:[Object($.jsxs)("div",{className:"single-row-left single-row-left-box",children:[Object($.jsxs)("div",{className:"single-row-left-text",children:[" ",Object($.jsx)("span",{className:"crane-status-color",style:{backgroundColor:a}}),r]}),Object($.jsx)("div",{className:"single-row-left-text",children:i})]}),Object($.jsx)("div",{className:"single-row-right-box",children:Object($.jsx)("div",{className:"timing-box",style:{width:c,backgroundColor:o,left:s}})})]}):null},pn=n(603),gn=n(615),vn=n(607),En=l.forwardRef((function(e,t){return Object($.jsx)(vn.a,Object(Le.a)({elevation:6,ref:t,variant:"filled"},e))}));function Sn(e){var t=e.autoHideDuration,n=void 0===t?6e3:t;return Object($.jsx)(pn.a,{spacing:2,sx:{width:"100%"},children:Object($.jsx)(gn.a,{open:e.open,autoHideDuration:n,onClose:e.notificationToggleState,children:Object($.jsx)(En,{onClose:e.notificationToggleState,severity:e.severity,sx:{width:"100%"},children:e.message})})})}var Cn=1440,yn=["00:00","02:00","04:00","06:00","08:00","10:00","12:00","14:00","16:00","18:00","20:00","22:00","24:00"],kn=function(e){var t=e.selectedDate,n=e.selectedCrane,a=d.a.useState((function(){return["day"]})),r=Object(ae.a)(a,2),i=r[0],c=r[1],o=Object(l.useState)([]),s=Object(ae.a)(o,2),u=s[0],j=s[1],b=Object(l.useState)(yn),m=Object(ae.a)(b,2),h=m[0],O=m[1],x=Object(l.useState)(!0),p=Object(ae.a)(x,2),g=p[0],E=p[1],S=function(){var e=new Date(t),n=[];if(t)for(var a=1;a<=7;a++){var r=e.getDate()-e.getDay()+a,i=new Date(e.setDate(r)).toDateString().slice(0,10);n.push(i)}return n},C=Object(v.c)((function(e){var t=(e||{}).bookings,n=(t=void 0===t?{}:t).data,a=void 0===n?[]:n,r=t.loading,i=void 0!==r&&r,c=t.error;return{bookings:a,loading:i,error:void 0===c?"":c}})),y=function(e){var t=new Date(e);return(60*t.getHours()+t.getMinutes())/Cn*100},k=function(e){var t=new Date(e),n=60*t.getHours()+t.getMinutes(),a=S(),r=0,i=!1;return a.map((function(e){var n=new Date(e);i||(i=!!t&&(t.getDate()==n.getDate()&&t.getMonth()==n.getMonth()&&t.getFullYear()==(new Date).getFullYear()))||(r+=Cn)})),(r+n)/10080*100};Object(l.useEffect)((function(){if(C&&C.bookings&&C.bookings.length>0){var e=[];e=C.bookings.filter((function(e){return e.crane_id})),"week"===(i&&i[0])?(O(S),e=e.filter((function(e){return function(e,t){var a=new Date(e),r=!1,i=S(),c=!n||n===t;return i.map((function(e){var t=new Date(e);r||(r=!!a&&a.getDate()==t.getDate()&&a.getMonth()==t.getMonth()&&a.getFullYear()==(new Date).getFullYear())})),!(!r||!c)}(e.start_time,e.crane_id.name)})).map((function(e){var t,n,a=e.crane_id,r=(a=void 0===a?{}:a).name,i=void 0===r?"":r,c=a._id,o=void 0===c?"":c,s=e.zone,l=e.start_time,d=e.end_time,u=e.status,j=e.createdAt,b="transparent";return"Pending"===u||"Unscheduled"===u?b="#b7b7b7":"Completed"===u?b="#3478fc":"Rescheduled"===u&&(b="#8d3ed4"),{id:o,crane:i,location:s,liftType:"Install Framework",width:(t=l,n=d,(new Date(n).getTime()-new Date(t).getTime())/6e4/10080*100+"%"),left:k(l)+"%",color:b,craneColor:"#ff8d8d",createdAt:j}}))):(O(yn),e=e.filter((function(e){return function(e,a){var r=new Date(e),i=t?new Date(t):null;return!(!i||!r||r.getDate()!=i.getDate()||r.getMonth()!=i.getMonth()||r.getFullYear()!=i.getFullYear()||n&&n!==a)}(e.start_time,e.crane_id.name)})).map((function(e){var t,n,a=e.crane_id,r=(a=void 0===a?{}:a).name,i=void 0===r?"":r,c=a._id,o=void 0===c?"":c,s=e.zone,l=e.start_time,d=e.end_time,u=e.status,j=e.createdAt,b="transparent";return"Pending"===u||"Unscheduled"===u?b="#b7b7b7":"Completed"===u?b="#3478fc":"Rescheduled"===u&&(b="#8d3ed4"),{id:o,crane:i,location:s,liftType:"Install Framework",width:(t=l,n=d,(new Date(n).getTime()-new Date(t).getTime())/6e4/Cn*100+"%"),left:y(l)+"%",color:b,craneColor:"#ff8d8d",createdAt:j}}))),j(e)}}),[C.bookings,i,t,n]);return Object($.jsx)($.Fragment,{children:!0===C.loading?Object($.jsx)(fn.a,{}):!1===C.loading&&""!==C.error?Object($.jsx)(Sn,{severity:"error",message:C.error,open:g,notificationToggleState:function(){E(!1)}}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(f.a,{variant:"h4",className:"grantt-chart-heading",children:"All Cranes"}),Object($.jsxs)("div",{className:"grantt-chart-header-container",children:[Object($.jsxs)("div",{className:"status-container",children:[Object($.jsxs)("span",{className:"status-text",children:[Object($.jsx)("span",{className:"status-color",style:{backgroundColor:"#b7b7b7"}}),"Pending"]}),Object($.jsxs)("span",{className:"status-text",children:[Object($.jsx)("span",{className:"status-color",style:{backgroundColor:"#3478fc"}}),"Completed"]}),Object($.jsxs)("span",{className:"status-text",children:[Object($.jsx)("span",{className:"status-color",style:{backgroundColor:"#8d3ed4"}}),"Rescheduled"]})]}),Object($.jsx)("div",{children:Object($.jsx)(Wt,{formats:i,setFormats:c,options:[{value:"day",label:"Day"},{value:"week",label:"Week"}],singleSelect:!0})})]}),Object($.jsxs)("div",{className:"grantt-chart-main-container",children:[Object($.jsxs)("div",{className:"single-row",children:[Object($.jsx)("div",{className:"single-row-left",children:["Crane","Location"].map((function(e){return Object($.jsx)("div",{className:"single-row-left-text",children:e})}))}),Object($.jsx)("div",{className:"single-row-right",children:h.map((function(e){return Object($.jsx)("div",{children:e})}))})]}),u&&u.length>0?u.map((function(e){return Object($.jsx)(xn,{rowData:e},e.id+e.crane+e.location+e.createdAt)})):Object($.jsx)("div",{className:"no-data",children:"No Data Available"})]})]})})};function _n(){var e=Object(l.useState)(new Date),t=Object(ae.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(""),i=Object(ae.a)(r,2),c=i[0],s=i[1],d=Object(b.f)(),u=Object(v.b)(),j=Object(E.b)(o,u).getBookings;Object(l.useEffect)((function(){j()}),[]);return Object($.jsxs)(g.a,{className:"page-container",children:[Object($.jsxs)(g.a,{sx:{display:"flex"},mb:1,children:[Object($.jsx)(f.a,{variant:"h5",component:"h2",className:"heading-text",children:"Grantt Chart"}),Object($.jsx)(X.a,{variant:"contained",startIcon:Object($.jsx)(ht.a,{}),onClick:function(){return d.push("/home/booking?from=chart")},children:"Request New"})]}),Object($.jsx)(On,{date:n,setDate:a,crane:c,setCrane:s}),Object($.jsx)(kn,{selectedDate:n,selectedCrane:c})]})}var wn=function(e){var t=d.a.useState(!1),n=Object(ae.a)(t,2),a=n[0],r=n[1],i=d.a.useState(0),c=Object(ae.a)(i,2),o=c[0],s=c[1],l=function(){r(!a)},u=[{text:"Crane Booking",id:Ve,notifications:20},{text:"Grantt Chart",id:Je},{text:"Calendar",id:"/home/calendar"}];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(bt,{headerTab:o,setHeaderTab:s,handleDrawerToggle:l}),Object($.jsx)(ve,{items:u,mobileOpen:a,handleDrawerToggle:l,children:Object($.jsxs)(b.c,{children:[Object($.jsx)(b.a,{path:Ve,exact:!0,children:Object($.jsx)(ln,{})}),Object($.jsx)(b.a,{path:Ke,children:Object($.jsx)(hn,{})}),Object($.jsx)(b.a,{path:Je,children:Object($.jsx)(_n,{})})]})})]})},Nn=n(619),Dn=n(604),Tn=n(608);n(497);var An=function(e){var t=e.id,n=e.label,a=e.formik,r=e.selected;return Object($.jsxs)("div",{className:"g-checkbox",children:[Object($.jsx)(Tn.a,{className:"item-checkbox","aria-label":n,name:t,id:t,checked:a.values[r],onChange:a.handleChange}),Object($.jsx)(f.a,{variant:"body1",children:n})]})};n(498);function Rn(){var e=[{text:"Machine Ilding",notifications:[{text:"Project Manager",selected:"machineIlding_PM"},{text:"Site Supervisor",selected:"machineIlding_SS"}]},{text:"Booking Schedule Changes",notifications:[{text:"Project Manager",selected:"bookingSchheduling_PM"},{text:"Deputy PM/Construction Manager",selected:"bookingSchheduling_DPCM"}]},{text:"Booking Approval Status",notifications:[{text:"Project Manager",selected:"bookingApproval_PM"},{text:"Deputy PM/Construction Manager",selected:"bookingApproval_DPCM"}]}],t=Object(V.a)({initialValues:{machineIlding_SS:!0,machineIlding_PM:!1,bookingSchheduling_PM:!1,bookingSchheduling_DPCM:!1,bookingApproval_DPCM:!1,bookingApproval_PM:!0},onSubmit:function(e){}});return Object($.jsxs)(ie.a,{className:"admin-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Notifications"}),Object($.jsx)(Dn.a,{}),Object($.jsxs)("form",{onSubmit:t.handleSubmit,children:[(e||[]).map((function(e){return Object($.jsxs)(ie.a,{className:"sub-section",children:[e&&Object($.jsx)(f.a,{className:"heading",variant:"h6",component:"div",children:e.text}),(e.notifications||[]).map((function(e,n){return Object($.jsx)(ie.a,{className:"item",children:Object($.jsx)(An,{selected:e.selected,formik:t,id:e.selected,label:e.text})})}))]})})),Object($.jsx)(cn,{type:"submit",title:"Update Changes",className:"update-changes"})]})]})}n(77);var Mn=[{id:"username",label:"Username"},{id:"company",label:"Company"},{id:"email",label:"Email"},{id:"userRole",label:"User Role"},{id:"action",label:"Action"}],Un=[{id:"image",label:"Image"},{id:"imageCount",label:"Image Count"},{id:"materialName",label:"Material Name"},{id:"action",label:"Action"}],Ln=[{image:"/assets/images/material1.jfif",imageCount:1,materialName:"Rebar",action:"Edit/Remove"},{image:"/assets/images/material2.jpg",imageCount:1,materialName:"Cement",action:"Edit/Remove"},{image:"/assets/images/material2.jpg",imageCount:1,materialName:"Bucket",action:"Edit/Remove"}],In=[{id:"role",label:"Roles"},{id:"action",label:"Action"}],Pn=[{id:"activityName",label:"Activity Name"},{id:"hoursTaken",label:"Hours Taken"},{id:"action",label:"Action"}],Fn=[{activityName:"Rebar",hoursTaken:"4 hours",action:"Edit/Remove"},{activityName:"Rebar",hoursTaken:"4 hours",action:"Edit/Remove"}],Gn=[{id:"contractor",label:"Contractor"},{id:"scheduleName",label:"Schedule Name"},{id:"scheduleType",label:"Schedule Type"},{id:"location",label:"Location"},{id:"crane",label:"Crane"},{id:"schedule",label:"Schedule"},{id:"time",label:"Time"},{id:"duration",label:"Duration"},{id:"assignedTo",label:"Assigned To"},{id:"action",label:"Action"}],Bn=[{contractor:"Zhang Keng Enginering",scheduleName:"Maintenance",scheduleType:"Planned",location:"All Crane",crane:"All Crane",schedule:"Monthly 9th",time:"1:00PM - 2:00PM",duration:"1 Hr",assignedTo:"Project Manager",action:"Edit/Remove"},{contractor:"Zhang Keng Enginering",scheduleName:"Maintenance",scheduleType:"Planned",location:"All Crane",crane:"All Crane",schedule:"Monthly 9th",time:"1:00PM - 2:00PM",duration:"1 Hr",assignedTo:"Project Manager",action:"Edit/Remove"}],qn=[{id:"crane",label:"Crane"},{id:"zone",label:"Zone"},{id:"bookingHours",label:"Booking Hours"},{id:"bookingDays",label:"Booking Days"},{id:"action",label:"Action"}],zn=[{crane:"Crane A",zone:"Zone 1",bookingHours:"8Pm -5Pm",bookingDays:"Mon,Tue,Wed,Thur,Fri,Sat",action:"Edit/Remove"},{crane:"Crane B",zone:"Zone 2",bookingHours:"8Pm -5Pm",bookingDays:"Mon,Tue,Wed,Thur,Fri,Sat",action:"Edit/Remove"},{crane:"Crane A",zone:"Zone 1",bookingHours:"8Pm -5Pm",bookingDays:"Mon,Tue,Wed,Thur,Fri,Sat",action:"Edit/Remove"},{crane:"Crane C",zone:"Zone 2",bookingHours:"8Pm -5Pm",bookingDays:"Mon,Tue,Wed,Thur,Fri,Sat",action:"Edit/Remove"}],Yn=[{id:"company",label:"Company"},{id:"action",label:"Action"}],Wn=K.c().shape({activity:K.e().required("Activity is required")});function Hn(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,r=Object(V.a)({initialValues:{activity:""},validationSchema:Wn,validateOnChange:!1,onSubmit:function(e){a(e)}});return Object($.jsx)(tn,{title:"Activity Management",open:t,showDialog:n,children:Object($.jsx)("form",{id:"request-new-form",className:"groundup-form",onSubmit:r.handleSubmit,children:Object($.jsx)(an,{formik:r,id:"activity",label:"Activity Name"})})})}n(499);function Zn(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)(ie.a,{className:"activity-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Activity Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Activity",size:"small",className:"activity-management-btn add-button",onClick:function(){return a(!0)}}),Object($.jsx)(Hn,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),Object($.jsx)(wt,{rowClicked:function(e){},rows:Fn,columns:Pn})]})}n(500);function Vn(){return Object($.jsxs)(ie.a,{className:"crane-booking-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Crane Booking Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Sub Contractors",size:"small",className:"crane-management-btn add-button"}),Object($.jsx)(wt,{rowClicked:function(e){},rows:zn,columns:qn})]})}n(501);function Kn(e){var t=e.formik,n=e.id,a=e.label,r=e.fullWidth,i=void 0!==r&&r,c=e.rows,o=void 0===c?2:c;return Object($.jsxs)("div",{className:"custom-textarea",children:[Object($.jsx)(Tt.a,{id:n,children:a}),Object($.jsx)(Q.a,{hiddenLabel:!0,fullWidth:i,multiline:!0,rows:o,required:!0,id:n,"aria-label":n,name:n,autoComplete:"off",value:t.values[n],onBlur:function(){return t.validateField(n)},onChange:t.handleChange,error:t.touched[n]&&Boolean(t.errors[n])}),t.errors[n]&&Object($.jsx)(f.a,{variant:"error",component:"div",children:t.errors[n]})]})}var Jn=K.c().shape({contracter:K.e().required("Contracter is required"),schedule:K.e().required("Schedule is required"),location:K.e().required("Location is required"),crane:K.e().required("Crane is required"),maintenance:K.e().required("Maintenance  is required"),recurranceDate:K.a().nullable().typeError("Invalid Date").required("Recurrance Date required"),startTime:K.a().required("Start Time  required"),endTime:K.a().min(K.d("startTime"),"End time can't be before start time").required("End Time required"),description:K.e().required()});function Qn(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,r=Object(l.useState)(null),i=Object(ae.a)(r,2),c=(i[0],i[1],Object(V.a)({initialValues:{contracter:"",schedule:"",location:"",crane:"",maintenance:"",description:"",startTime:"",endTime:"",recurranceDate:null},validateOnChange:!1,validationSchema:Jn,onSubmit:function(e){a(e)}}));return Object($.jsx)(tn,{title:"Schedule Management",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:c.handleSubmit,children:[Object($.jsx)(Gt,{formik:c,id:"contracter",label:"Contracter",options:[{key:"contracte1",value:"contracter 1"},{key:"contracte2",value:"contracte 2"},{key:"contracte3",value:"contracte 3"}]}),Object($.jsx)(Gt,{formik:c,id:"schedule",label:"Schedule Name",options:[{key:"schedule1",value:"Schedule 1"},{key:"schedule2",value:"Schedule 2"},{key:"schedule3",value:"Schedule 3"}]}),Object($.jsx)(Gt,{formik:c,id:"location",label:"Location",options:[{key:"location3",value:"Location 1"},{key:"location2",value:"Location 2"},{key:"location1",value:"Location 3"}]}),Object($.jsx)(Gt,{formik:c,id:"crane",label:"Crane",options:[{key:"crane1",value:"Crane 1"},{key:"crane2",value:"Crane 2"},{key:"crane3",value:"Crane 3"}]}),Object($.jsx)(Gt,{formik:c,id:"maintenance",label:"Maintenance Type",options:[{key:"maintenance1",value:"Maintenance 1"},{key:"maintenance2",value:"Maintenance 2"},{key:"maintenance3",value:"Maintenance 3"}]}),Object($.jsxs)(Vt.a,{xs:12,container:!0,children:[Object($.jsx)(Vt.a,{xs:4,children:Object($.jsx)(Pt,{formik:c,id:"startTime",label:"Time Start",timeonly:!0})}),Object($.jsx)(Vt.a,{xs:4,children:Object($.jsx)(Pt,{formik:c,id:"endTime",label:"End Start",timeonly:!0})})]}),Object($.jsx)(Kn,{formik:c,id:"description",label:"Description",fullWidth:!0}),Object($.jsx)(g.a,{className:"dropdown",children:Object($.jsx)(Pt,{formik:c,id:"recurranceDate",label:"Recurrance Date",dateDelete:!0})})]})})}n(502);function Xn(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)(ie.a,{className:"crane-booking-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Maintenance Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Schedule",size:"small",className:"maintenance-management-btn add-button",onClick:function(){return a(!0)}}),Object($.jsx)(Qn,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),Object($.jsx)(wt,{rowClicked:function(e){},rows:Bn,columns:Gn})]})}var $n=K.c().shape({material:K.e().required("Material is required")});function ea(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,r=Object(V.a)({initialValues:{material:""},validationSchema:$n,validateOnChange:!1,onSubmit:function(e){a(e)}});return Object($.jsx)(tn,{title:"Material Management",open:t,showDialog:n,children:Object($.jsx)("form",{id:"request-new-form",className:"groundup-form",onSubmit:r.handleSubmit,children:Object($.jsx)(an,{formik:r,id:"material",label:"Material Name"})})})}n(503);function ta(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)(ie.a,{className:"crane-booking-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Material Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Materials",size:"small",className:"material-management-btn add-button",onClick:function(){return a(!0)}}),Object($.jsx)(ea,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),Object($.jsx)(wt,{rowClicked:function(e){},rows:Ln,columns:Un})]})}n(504);function na(){var e=[{text:"Booking",notifications:[{text:"Booking Summary",selected:"booking_BS"},{text:"Booking Record list",selected:"booking_BRL"}]},{text:"Crane",notifications:[{text:"Crane Utilisation Summary",selected:"crane_CUS"},{text:"Crane Utilization Records",selected:"crane_CUR"},{text:"Indentified Materials List",selected:"crane_IML"}]},{text:"Maintainance",notifications:[{text:"Planned Maintainance Records",selected:"maintainence_PMR"},{text:"Materials lifted",selected:"maintainence_ML"}]}],t=Object(V.a)({initialValues:{booking_BS:!0,booking_BRL:!1,crane_CUS:!1,crane_CUR:!1,crane_IML:!1,maintainence_PMR:!1,maintainence_ML:!0},onSubmit:function(e){}});return Object($.jsxs)(ie.a,{className:"reports-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Reports Management"}),Object($.jsx)(Dn.a,{}),Object($.jsxs)("form",{onSubmit:t.handleSubmit,children:[(e||[]).map((function(e){return Object($.jsxs)(ie.a,{className:"sub-section",children:[e&&Object($.jsx)(f.a,{className:"heading",variant:"h6",component:"div",children:e.text}),(e.notifications||[]).map((function(e,n){return Object($.jsx)(ie.a,{className:"item",children:Object($.jsx)(An,{selected:e.selected,formik:t,id:e.selected,label:e.text})})}))]})})),Object($.jsx)(cn,{type:"submit",title:"Save Changes",className:"update-changes"})]})]})}var aa=K.c().shape({role:K.e().required("Role is required")}),ra=[{id:"newbooking",label:"New Booking"},{id:"updateBooking",label:"Update Booking"},{id:"canelledBooking",label:"Cancelled Booking"},{id:"rescheduleBooking",label:"Reschedule Booking"},{id:"approvedRejectedBooking",label:"Approved/ Rejected Booking"},{id:"machineIdling",label:"Machine Idling"},{id:"maintenance",label:"Maintenance"}];function ia(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,r=Object(V.a)({initialValues:{role:"",maintenance:!0,machineIdling:!0,approvedRejectedBooking:!0,rescheduleBooking:!0,canelledBooking:!0,updateBooking:!0,newbooking:!0},validateOnChange:!1,validationSchema:aa,onSubmit:function(e){a(e)}});return Object($.jsx)(tn,{size:"large",title:"Role Management",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:r.handleSubmit,children:[Object($.jsx)(an,{formik:r,id:"role",label:"User Role"}),Object($.jsx)(Tt.a,{id:"notification",children:"Notification"}),Object($.jsx)(Vt.a,{xs:12,container:!0,children:ra.map((function(e,t){return Object($.jsx)(Vt.a,{xs:6,children:Object($.jsx)(g.a,{className:"item",children:Object($.jsx)(An,{selected:e.id,formik:r,id:e.id,label:e.label})})})}))})]})})}n(505);function ca(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1],r=Object(v.b)(),c=Object(E.b)(i,r).fetchRoles,o=Object(v.c)((function(e){return e.role})),s=o.roles,d=o.error,u=o.loading,j=Object(l.useState)([]),b=Object(ae.a)(j,2),m=b[0],h=b[1],O=[];return Object(l.useEffect)((function(){c()}),[]),Object(l.useEffect)((function(){(s||[]).map((function(e,t){O.push({role:e.name,action:"Edit/Remove"})})),h(O)}),[s]),Object($.jsx)(ie.a,{children:!0===u?Object($.jsx)(fn.a,{}):!1===u&&""!==d?Object($.jsx)(vn.a,{severity:"error",children:d}):Object($.jsx)($.Fragment,{children:Object($.jsxs)(ie.a,{className:"crane-booking-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Role Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Role",size:"small",className:"role-management-btn add-button",onClick:function(){return a(!0)}}),Object($.jsx)(ia,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),Object($.jsx)(wt,{rowClicked:function(e){},rows:m,columns:In})]})})})}var oa=K.c().shape({email:K.e().email("Enter a valid email").required("Email is required"),username:K.e().required("User Name is required"),company:K.e().required("Company is required"),role:K.e().required("Role is required")});function sa(e){var t=e.open,n=e.showDialog,a=(e.handleSubmit,Object(v.b)()),o=Object(E.b)(r,a).createNewUser,s=Object(v.c)((function(e){return e.createUser})),d=(s.error,s.loading,Object(E.b)(c,a).fetchCompany),u=Object(v.c)((function(e){return e.company})).company,j=Object(E.b)(i,a).fetchRoles,b=Object(v.c)((function(e){return e.role})).roles,m=Object(l.useState)([]),h=Object(ae.a)(m,2),O=h[0],f=h[1],x=Object(l.useState)([]),p=Object(ae.a)(x,2),g=p[0],S=p[1];Object(l.useEffect)((function(){d(),j()}),[]),Object(l.useEffect)((function(){var e=[];(u||[]).map((function(t){e.push({key:"".concat(t._id),value:"".concat(t.name)})})),f(e)}),[u]),Object(l.useEffect)((function(){var e=[];(b||[]).map((function(t){e.push({key:"".concat(t._id),value:"".concat(t.name)})})),S(e)}),[b]);var C=Object(V.a)({initialValues:{username:"",company:"",email:"",role:""},validateOnChange:!1,validationSchema:oa,onSubmit:function(e){o(C.values.email,"password",C.values.username,C.values.role,C.values.company)}});return Object($.jsx)($.Fragment,{children:Object($.jsx)(tn,{title:"User Management",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:C.handleSubmit,children:[Object($.jsx)(an,{formik:C,id:"username",label:"User Name"}),Object($.jsx)(Gt,{formik:C,id:"company",label:"Company",options:O}),Object($.jsx)(an,{formik:C,id:"email",label:"Email"}),Object($.jsx)(Gt,{formik:C,id:"role",label:"Role",options:g})]})})})}var la=function(e){var t=e.open,n=e.showDialog,a=e.handleSubmit,i=e.editUserData,c=void 0===i?{username:"",email:""}:i,o=Object(v.b)(),s=Object(E.b)(r,o).updateUser,l={username:c.username,email:c.email},d=Object(V.a)({initialValues:l,onSubmit:function(e){a(),s(c._id,d.values.email,d.values.username)},validateOnChange:!1});return Object($.jsx)(tn,{title:"Edit User",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:d.handleSubmit,children:[Object($.jsx)(an,{formik:d,id:"username",label:"User Name"}),Object($.jsx)(an,{formik:d,id:"email",label:"Email"})]})})};function da(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(ae.a)(i,2),o=c[0],s=c[1],d=Object(v.b)(),u=Object(E.b)(r,d).fetchUsers,j=Object(v.c)((function(e){return e.user})),b=j.users,m=j.error,h=j.loading,O=Object(E.b)(r,d).removeUser,x=Object(v.c)((function(e){return e.removeUser})),p=(x.deleteLError,x.deleteLoading,Object(l.useState)()),g=Object(ae.a)(p,2),S=g[0],C=g[1],y=Object(l.useState)([]),k=Object(ae.a)(y,2),_=k[0],w=k[1],N=[];Object(l.useEffect)((function(){u()}),[]),Object(l.useEffect)((function(){(b||[]).map((function(e,t){N.push({username:e.name,company:"NA",email:e.email,userRole:"NA",action:"Edit/Remove",_id:e._id})})),w(N)}),[b]);return Object($.jsx)(ie.a,{children:!0===h?Object($.jsx)(fn.a,{}):!1===h&&""!==m?Object($.jsx)(vn.a,{severity:"error",children:m}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"User Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{className:"user-management-btn add-button",title:"Add User",size:"small",onClick:function(){return a(!0)}}),Object($.jsx)(wt,{editlicked:function(e){C(e),s(!0)},deleteClicked:function(e){O(e)},rowClicked:function(e){},rows:_,columns:Mn}),Object($.jsx)(sa,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),o&&Object($.jsx)(la,{editUserData:S,open:o,showDialog:function(e){s(e)},handleSubmit:function(){s(!1)}})]})})}var ua=K.c().shape({company:K.e().required("Company is required"),address:K.e().required("Address is required"),phone:K.b().required("Phone is required")});function ja(e){var t=e.open,n=e.showDialog,a=(e.handleSubmit,Object(v.b)()),r=Object(E.b)(c,a).createCompany,i=Object(v.c)((function(e){return e.createCompany})),o=(i.error,i.loading,Object(V.a)({initialValues:{company:"",address:"",phone:0},validateOnChange:!1,validationSchema:ua,onSubmit:function(e){r(o.values.company,o.values.address,o.values.phone)}}));return Object($.jsx)(tn,{title:"Add Company",open:t,showDialog:n,children:Object($.jsxs)("form",{id:"request-new-form",className:"groundup-form",onSubmit:o.handleSubmit,children:[Object($.jsx)(an,{formik:o,id:"company",label:"Company"}),Object($.jsx)(an,{formik:o,id:"address",label:"Address"}),Object($.jsx)(an,{formik:o,id:"phone",label:"Phone"})]})})}n(506);function ba(){var e=Object(l.useState)(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1],r=Object(v.b)(),i=Object(E.b)(c,r),o=i.fetchCompany,s=i.deleteCompany,d=Object(v.c)((function(e){return e.company})),u=d.company,j=d.error,b=d.loading,m=Object(l.useState)([]),h=Object(ae.a)(m,2),O=h[0],x=h[1],p=[];return Object(l.useEffect)((function(){o()}),[]),Object(l.useEffect)((function(){(u||[]).map((function(e,t){p.push({company:e.name,action:"Edit/Remove",_id:e._id})})),x(p)}),[u]),Object($.jsx)(ie.a,{children:!0===b?Object($.jsx)(fn.a,{}):!1===b&&""!==j?Object($.jsx)(vn.a,{severity:"error",children:j}):Object($.jsx)($.Fragment,{children:Object($.jsxs)(ie.a,{className:"company-management-view",children:[Object($.jsx)(f.a,{className:"heading",variant:"h5",component:"h2",children:"Company Management"}),Object($.jsx)(Dn.a,{}),Object($.jsx)(cn,{title:"Add Comapny",size:"small",className:"company-management-btn add-button",onClick:function(){return a(!0)}}),Object($.jsx)(ja,{open:n,showDialog:function(e){a(e)},handleSubmit:function(){a(!1)}}),Object($.jsx)(wt,{rowClicked:function(e){},deleteClicked:function(e){return s(e)},rows:O,columns:Yn})]})})})}function ma(){return Object($.jsx)(ie.a,{className:"admin-view",children:Object($.jsxs)(b.c,{children:[Object($.jsx)(b.a,{path:$e,children:Object($.jsx)(da,{})}),Object($.jsx)(b.a,{path:et,children:Object($.jsx)(ca,{})}),Object($.jsx)(b.a,{path:tt,children:Object($.jsx)(ta,{})}),Object($.jsx)(b.a,{path:nt,children:Object($.jsx)(Zn,{})}),Object($.jsx)(b.a,{path:at,children:Object($.jsx)(Xn,{})}),Object($.jsx)(b.a,{path:rt,children:Object($.jsx)(Vn,{})}),Object($.jsx)(b.a,{path:it,children:Object($.jsx)(na,{})}),Object($.jsx)(b.a,{path:ct,children:Object($.jsx)(ba,{})})]})})}function ha(){var e=d.a.useState(!1),t=Object(ae.a)(e,2),n=t[0],a=t[1],r=d.a.useState(-1),i=Object(ae.a)(r,2),c=i[0],o=i[1],s=function(){a(!n)},l=[{text:"Admin",id:Qe,subMenu:[{text:"User Management",id:$e},{text:"Role Management",id:et},{text:"Company Management",id:ct},{text:"Material Management",id:tt},{text:"Activity Management",id:nt},{text:"Maintenance Management",id:at},{text:"Crane Booking Management",id:rt},{text:"Reports",id:it}]}];return Object($.jsxs)("div",{children:[Object($.jsx)(bt,{headerTab:c,setHeaderTab:o,handleDrawerToggle:s}),Object($.jsx)(ve,{items:l,mobileOpen:n,handleDrawerToggle:s,children:Object($.jsxs)(b.c,{children:[Object($.jsx)(b.a,{path:Xe,children:Object($.jsx)(Rn,{})}),Object($.jsx)(b.a,{path:Qe,children:Object($.jsx)(ma,{})})]})})]})}var Oa=n(222),fa=n(100),xa=Object(Oa.a)({typography:{h3:{fontSize:"2rem",fontWeight:500,color:_t.a[600]},h4:{fontSize:"1.5rem",fontWeight:500,color:_t.a[600]},h5:{fontSize:"1.25rem",fontWeight:500,color:_t.a[800]},h6:{fontSize:"1.1rem",color:_t.a[600]},subtitle2:{color:_t.a[600]},body1:{color:_t.a[800]},paneheader:{fontSize:".9rem",fontWeight:700,color:_t.a[600]},error:{color:"red",fontSize:".8rem",lineHeight:"1.3"}},palette:{secondary:{main:_t.a[200],dark:_t.a[400],contrastText:"white"},success:{main:fa.a[500],contrastText:"white"}},components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:"white",color:"#00000099"}}}}});function pa(){return Object($.jsx)("div",{children:Object($.jsx)(mn,{})})}function ga(){var e="http://13.212.88.14:3000/api/v1";return T.a.interceptors.request.use((function(t){var n,a;return-1==(null===(n=t.url)||void 0===n?void 0:n.indexOf(e))&&(t.url=e+t.url),-1==(null===(a=t.url)||void 0===a?void 0:a.indexOf(A))?t.headers={Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}:t.headers={"Content-Type":"application/json"},t}),(function(e){return Promise.reject(e)})),T.a.interceptors.response.use((function(e){return 201===e.status&&console.log("Posted Successfully"),e}),(function(e){return Promise.reject(e)})),Object($.jsx)($.Fragment,{})}var va=function(){return Object($.jsxs)(Nn.a,{theme:xa,children:[Object($.jsx)(ga,{}),Object($.jsx)("div",{className:"App",children:Object($.jsxs)(b.c,{children:[Object($.jsx)(b.a,{path:"/",exact:!0,children:Object($.jsx)(ne,{})}),Object($.jsx)(b.a,{path:We,children:Object($.jsx)(wn,{})}),Object($.jsx)(b.a,{path:He,children:Object($.jsx)(ha,{})}),Object($.jsx)(b.a,{path:"/sample",children:Object($.jsx)(pa,{})})]})})]})},Ea=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,650)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},Sa=n(83),Ca=(n(507),n(508),n(509),n(510),n(511),n(512),{users:[],loading:!0,error:""}),ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.GET_USERS:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0});case k.GET_USERS_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,users:[],error:t.payload});case k.GET_USERS_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{users:t.payload,loading:!1,error:""});default:return e}},ka={loading:!0,error:""},_a={deleteLoading:!0,deleteLError:""},wa={editLoading:!0,editLError:""},Na={data:[],loading:!0,error:""},Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.BOOKINGS_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,users:[],error:t.payload});case B.ALL_BOOKINGS:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,data:t.payload,error:""});default:return e}},Ta={username:"",status:!1},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOGGED_IN_USER:return Object(Le.a)(Object(Le.a)({},e),{},{username:t.payload,status:"success"});case s.LOGGED_IN_USER_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{username:t.payload,status:"failed"});default:return e}},Ra={roles:[],loading:!0,error:""},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.GET_ROLES:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0});case M.GET_ROLES_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,roles:[],error:t.payload});case M.GET_ROLES_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{roles:t.payload,loading:!1,error:""});default:return e}},Ua={company:[],loading:!0,error:""},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.GET_COMPANY:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0});case F.GET_COMPANY_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,company:[],error:t.payload});case F.GET_COMPANY_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{company:t.payload,loading:!1,error:""});default:return e}},Ia={loading:!0,error:""},Pa={loading:!0,error:""},Fa=Object(E.c)({login:Aa,role:Ma,bookings:Da,user:ya,createUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.CREATE_USER:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0,error:""});case _.CREATE_USER_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:t.payload});case _.CREATE_USER_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:""});default:return e}},removeUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.DELETE_USER:return Object(Le.a)(Object(Le.a)({},e),{},{deleteLoading:!0,deleteLError:""});case w.DELETE_USER_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{deleteLoading:!1,deleteLError:t.payload});case w.DELETE_USER_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{deleteLoading:!1,deleteLError:""});default:return e}},editUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.EDIT_USER:return Object(Le.a)(Object(Le.a)({},e),{},{editLoading:!0,editLError:""});case N.EDIT_USER_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{editLoading:!1,editLError:t.payload});case N.EDIT_USER_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{editLoading:!1,editLError:""});default:return e}},company:La,createCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.CREATE_COMPANY:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0});case F.CREATE_COMPANY_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:t.payload});case F.CREATE_COMPANY_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:""});default:return e}},deleteCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.DELETE_COMPANY:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!0});case F.DELETE_COMPANY_FAILED:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:t.payload});case F.DELETE_COMPANY_SUCCESS:return Object(Le.a)(Object(Le.a)({},e),{},{loading:!1,error:""});default:return e}}}),Ga=Fa,Ba=n(286),qa=Object(E.d)(Ga,{},Object(E.a)(Ba.a));j.a.render(Object($.jsx)(d.a.StrictMode,{children:Object($.jsx)(Sa.a,{children:Object($.jsx)(v.a,{store:qa,children:Object($.jsx)(va,{})})})}),document.getElementById("root")),Ea()},77:function(e,t,n){}},[[534,1,2]]]);
//# sourceMappingURL=main.3a12bd6b.chunk.js.map